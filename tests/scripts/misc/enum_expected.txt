stderr:

Compiling 'enum.zs'
Pass 1: Parsing
Pass 2: Preprocessing
Pass 3: Registration
Pass 4: Analyzing Code
enum.zs Line 61 @ Columns 2-20 - Error T017: Cannot cast from const HitIndex to AnimationBitflags.

59    f1 = ~f1|f1&AF_FRESH;
60    // Error.
61    f1 = HIT_BY_NPC_ID;
      ^~~~~~~~~~~~~~~~~~


enum.zs Line 63 @ Columns 7-31 - Error S109: Binary operations on bitflags must be on the same type. Instead, got: AnimationBitflags, HitIndex

61    f1 = HIT_BY_NPC_ID;
62    // Error.
63    f1 = AF_FRESH | HIT_BY_NPC_ID;
           ^~~~~~~~~~~~~~~~~~~~~~~~


enum.zs Line 65 @ Columns 7-31 - Error S109: Binary operations on bitflags must be on the same type. Instead, got: AnimationBitflags, HitIndex

63    f1 = AF_FRESH | HIT_BY_NPC_ID;
64    // Error.
65    f1 = AF_FRESH + HIT_BY_NPC_ID;
           ^~~~~~~~~~~~~~~~~~~~~~~~


enum.zs Line 67 @ Columns 8-21 - Error S109: Binary operations on bitflags must be on the same type. Instead, got: AnimationBitflags, HitIndex

65    f1 = AF_FRESH + HIT_BY_NPC_ID;
66    // Error.
67    f1 += HIT_BY_NPC_ID;
            ^~~~~~~~~~~~~


enum.zs Line 72 @ Columns 2-20 - Error T017: Cannot cast from const HitIndex to AnimationBitflags.

70    f2 |= AF_FRESH;
71    // Error.
72    f2 = HIT_BY_NPC_ID;
      ^~~~~~~~~~~~~~~~~~


enum.zs Line 77 @ Columns 7-36 - Error S109: Binary operations on bitflags must be on the same type. Instead, got: AnimationBitflags, BlockBitflags

75    f3 = AF_CYCLE | <AnimationBitflags>(1);
76    // Error.
77    f3 = AF_CYCLE | <BlockBitflags>(1);
           ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~


enum.zs Line 81 @ Columns 2-18 - Error T017: Cannot cast from bitmap to int.

79    auto x = A::A | A::B;
80    // Error: Cannot cast from bitmap to int. Just showing that above resolved to int, not the enum.
81    x = new bitmap();
      ^~~~~~~~~~~~~~~~


enum.zs Line 85 @ Columns 2-7 - Error T017: Cannot cast from bitmap to int.

83    bitmap b;
84    // Error.
85    b | b;
      ^~~~~


Failure!
Compile finished with exit code '17' (compiled with errors)

stdout:

{
  "success": false,
  "code": 17,
  "diagnostics": [
    {
      "range": {
        "start": {
          "line": 60,
          "character": 1
        },
        "end": {
          "line": 60,
          "character": 19
        }
      },
      "severity": 1,
      "message": "T017: Cannot cast from const HitIndex to AnimationBitflags."
    },
    {
      "range": {
        "start": {
          "line": 62,
          "character": 6
        },
        "end": {
          "line": 62,
          "character": 30
        }
      },
      "severity": 1,
      "message": "S109: Binary operations on bitflags must be on the same type. Instead, got: AnimationBitflags, HitIndex"
    },
    {
      "range": {
        "start": {
          "line": 64,
          "character": 6
        },
        "end": {
          "line": 64,
          "character": 30
        }
      },
      "severity": 1,
      "message": "S109: Binary operations on bitflags must be on the same type. Instead, got: AnimationBitflags, HitIndex"
    },
    {
      "range": {
        "start": {
          "line": 66,
          "character": 7
        },
        "end": {
          "line": 66,
          "character": 20
        }
      },
      "severity": 1,
      "message": "S109: Binary operations on bitflags must be on the same type. Instead, got: AnimationBitflags, HitIndex"
    },
    {
      "range": {
        "start": {
          "line": 71,
          "character": 1
        },
        "end": {
          "line": 71,
          "character": 19
        }
      },
      "severity": 1,
      "message": "T017: Cannot cast from const HitIndex to AnimationBitflags."
    },
    {
      "range": {
        "start": {
          "line": 76,
          "character": 6
        },
        "end": {
          "line": 76,
          "character": 35
        }
      },
      "severity": 1,
      "message": "S109: Binary operations on bitflags must be on the same type. Instead, got: AnimationBitflags, BlockBitflags"
    },
    {
      "range": {
        "start": {
          "line": 80,
          "character": 1
        },
        "end": {
          "line": 80,
          "character": 17
        }
      },
      "severity": 1,
      "message": "T017: Cannot cast from bitmap to int."
    },
    {
      "range": {
        "start": {
          "line": 84,
          "character": 1
        },
        "end": {
          "line": 84,
          "character": 6
        }
      },
      "severity": 1,
      "message": "T017: Cannot cast from bitmap to int."
    }
  ],
  "metadata": {
    "currentFileSymbols": 42,
    "symbols": 35,
    "identifiers": 75,
    "elided": true
  }
}
